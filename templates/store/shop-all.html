
<!DOCTYPE html>
<html>
  {% extends "base.html" %}
  {% load static %}
  {%block title%} Shop all @ NaestPoint {%endblock title%}

<body>
{%block content%}
  <!-- Products-1 -->
  
  {%if search%}
  <section id="shop-all">
    <div class="whatshot-product-top">
    <h2 class="product2-heading">Seach Result for {{search_query}}<h2>
    </div>
  {%elif featured%}
  <section id="shop-all">
    <div class="whatshot-product-top">
    <h2 class="product2-heading">ALL FEATURED PRODUCTS<h2>
    </div>
  {%else%}
  <section id="shop-all">
    <div class="whatshot-product-top">
      <h2 class="product2-heading">ALL ITEMS IN STORE</h2>
    </div>
    <div class="product-top">
      <div class="filter">
        {%if search_query == "All"%}        
        <a href="{% url 'shop-all-page' category='all' %}"><button type="button" class="filtered all enable">All</button></a>
        {%else%}
        <a href="{% url 'shop-all-page' category='all' %}"><button type="button" class="filtered  ">All</button></a>
        {%endif%}
        {%if search_query == "Shirt"%}
        <a href="{% url 'shop-all-page' category='shirt' %}"><button type="button" class="filtered all shirt enable">Shirt</button></a>
        {%else%}
        <a href="{% url 'shop-all-page' category='shirt' %}"><button type="button" class="filtered shirt ">Shirt</button></a>
        {%endif%}
        {%if search_query == "Polo"%}
        <a href="{% url 'shop-all-page' category='polo' %}"><button type="button" class="filtered all polo enable">Polo</button></a>
        {%else%}
        <a href="{% url 'shop-all-page' category='polo' %}"><button type="button" class="filtered polo">Polo</button></a>
        {%endif%}
        {%if search_query == "Trouser"%}
        <a href="{% url 'shop-all-page' category='trouser' %}"><button type="button" class="filtered trouser enable">Trouser</button></a>
        {%else%}
        <a href="{% url 'shop-all-page' category='trouser' %}"><button type="button" class="filtered trouser">Trouser</button></a>
        {%endif%}
        {%if search_query == "Skirt"%}
        <a href="{% url 'shop-all-page' category='skirt' %}"><button type="button" class="filtered skirt enable">Skirt</button></a>
        {%else%}
        <a href="{% url 'shop-all-page' category='skirt' %}"><button type="button" class="filtered skirt">Skirt</button></a>
        {%endif%}
        {%if search_query == "Gown"%}
        <a href="{% url 'shop-all-page' category='gown' %}"><button type="button" class="filtered gown enable">Gown</button></a>
        {%else%}
        <a href="{% url 'shop-all-page' category='gown' %}"><button type="button" class="filtered gown">Gown</button></a>
        {%endif%}
        {%if search_query == "Suit"%}
        <a href="{% url 'shop-all-page' category='suit' %}"><button type="button" class="filtered suit enable">Suit</button></a>
        {%else%}
        <a href="{% url 'shop-all-page' category='suit' %}"><button type="button" class="filtered suit">Suit</button></a>
        {%endif%}
        {%if search_query == "Sweater"%}
        <a href="{% url 'shop-all-page' category='sweater' %}"><button type="button" class="filtered sweater enable">Sweater</button></a>
        {%else%}
        <a href="{% url 'shop-all-page' category='sweater' %}"><button type="button" class="filtered sweater">Sweater</button></a>
        {%endif%}
        {%if search_query == "Overall"%}
        <a href="{% url 'shop-all-page' category='overall' %}"><button type="button" class="filtered overall enable">Overall</button></a>
        {%else%}
        <a href="{% url 'shop-all-page' category='overall' %}"><button type="button" class="filtered overall">Overall</button></a>
        {%endif%}
        {%if search_query == "Native"%}
        <a href="{% url 'shop-all-page' category='Native' %}"><button type="button" class="filtered native enable">Native</button></a>
        {%else%}
        <a href="{% url 'shop-all-page' category='Native' %}"><button type="button" class="filtered native">Native</button></a>
        {%endif%}
        {%if search_query == "T-shirt"%}
        <a href="{% url 'shop-all-page' category='T-shirt' %}"><button type="button" class="filtered t-shirt enable">T-shirt</button></a>
        {%else%}
        <a href="{% url 'shop-all-page' category='shirt' %}"><button type="button" class="filtered t-shirt">T-shirt</button></a>
        {%endif%}
      </div>
    </div>

    {%endif%}
    <div class="row g-4">
      {%if 1 > page_obj|length%}
      <h3 class="orderHistory-display">There are no "{{search_query}}" items at the moment</h3>
      {%endif%}
      {% for prod in page_obj%}
      <div class="col-6 col-sm-6 col-md-6 col-lg-3 product-card">
        <a href="{%url 'single-prod-page' prod.product_name %}">
        <div class="card card-design">
          <div class="card-img">
            <div class="collectionTag-box">
              <img src="{{prod.collection.collection_tag.url}}" class="collection-tag" alt="">
            </div>
            <img src="{{prod.product_img_1.url}}" class="card-img-top" alt="...">
          </div>
          <div class="card-body product-body">
            <h3 class="product-title">{{prod.product_name|truncatechars:19}}</h3>
            <div class="sizes">
              {%if prod.product_sizes.1|length > 2 %}
                {%for color in prod.product_sizes %}
                <button type="button" class="size color-box deactivate" style="background-color: {{color}};"></button>
                {%endfor%}
              {%else%}
                {%if 'SM' in prod.product_sizes %}
                  <button type="button" class="size sm active"> SM</button>
                {%else%}
                  <button type="button" class="size sm deactivate"  disabled> SM</button>
                {%endif%}
                {%if 'MD' in prod.product_sizes %}
                  <button type="button" class="size sm active"> MD</button>
                {%else%} 
                  <button type="button" class="size md deactivate" disabled> MD</button>
                {%endif%}
                {%if 'LG' in prod.product_sizes %}
                  <button type="button" class="size sm active"> LG</button>
                {%else%} 
                  <button type="button" class="size lg deactivate" disabled> LG</button>
                {%endif%}
                {%if 'XL' in prod.product_sizes %}
                  <button type="button" class="size sm active"> XL</button>
                {%else%} 
                  <button type="button" class="size xl deactivate" disabled>XL</button>
                {%endif%}
            {%endif%}
            </div>
            <div class="product-info">
              <p class="product-price">{{prod.product_price|currency}}</p>
            </a>
              <div class="option-button">
                {% if prod in saved_items %}
              <img src="{% static 'images/favourite_activate.svg' %}"  class="nav-svg add_to_fav" id="{{prod.id}}" alt="...">
              {%else%}
              <img src="{% static 'images/Black-heart.svg' %}"  class="nav-svg add_to_fav" id="{{prod.id}}" alt="...">
              {%endif%}
              <img src="{% static 'images/Wheel-cart.svg' %}" class="nav-svg add_to_cart" id="{{prod.id}}"  alt="...">
              </div>
            </div>
          </div>
        </div>
      
      </div>
      {% endfor %}
      
      
      {%if page_obj.0%}      
      <div class="pages">
        <span class="step-links">
            {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}"><button type="button" class="directions"><i class="bi bi-chevron-left"></i></button></a>
            <a href="?page={{ page_obj.previous_page_number }}"><button type="button" class="page three"> {{page_obj.previous_page_number }}</button></a> 
            {% endif %}
  
            <a href="?page={{ page_obj.number }}"><button type="button" class="page one current-page"> {{page_obj.number}}</button></a>
            {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}"><button type="button" class="page two"> {{page_obj.next_page_number }}</button></a>
            <a href="?page={{ page_obj.next_page_number }}"><button type="button" class="directions"><i class="bi bi-chevron-right"></i></button></a>
            {% endif %}
        </span>
    </div>
    {%endif%} 
  </section>
  {%endblock content%}
</body>
</html>